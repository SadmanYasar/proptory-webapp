(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[748],{9994:function(s,e,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/listings/[id]",function(){return l(1263)}])},1263:function(s,e,l){"use strict";l.r(e),l.d(e,{default:function(){return y}});var i=l(5893),t=l(9008),n=l.n(t),d=l(1163),a=l(7294),o=l(2834),c=l(8168),r=l(7782),x=l(6355),m=l.n(x),u=l(5554),h=l.n(u),p=l(6148),v=l.n(p),g=l(5434),f=l(8193),w=l(3750),j=l(1664),N=l.n(j);function y(){var s,e,l,t,x,u;let[p,j]=(0,a.useState)(!1),[y,b]=(0,a.useState)(null),k=(0,d.useRouter)(),{id:C}=k.query,_="application/json";(0,a.useEffect)(()=>{let s=async()=>{if(k.isReady)try{let s=await fetch("/api/listings/".concat(C),{method:"GET",headers:{Accept:_,"Content-Type":_}}),e=await s.json();if(!s.ok)throw Error(e.error);b(e.data)}catch(s){k.push("/")}};s()},[k.isReady]),console.log(y);let E=()=>{navigator.clipboard.writeText("Check out the property at ".concat(null==y?void 0:y.listing.address," via this link: ").concat("https://proptory.com/listings","/").concat(C))},D=()=>{var s;let e=null===(s=null==y?void 0:y.listing.agentContact)||void 0===s?void 0:s.replace(/[^\w\s]/gi,"").replace(/ /g,""),l="https://web.whatsapp.com/send?phone=".concat(e);l+="&text=".concat(encodeURI("Hi. I am interested to discuss about your listing at ".concat(null==y?void 0:y.listing.address)),"&app_absent=0"),window.open(l)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n(),{children:(0,i.jsx)("title",{children:"Proptory listing"})}),(0,i.jsxs)("div",{className:"w-full px-4 pt-4 grid md:grid-cols-2 max-md:grid-cols-1",children:[(0,i.jsx)("div",{className:"bg-red-200 h-96 text-2xl text-slate-500",children:null==y?void 0:y.listing.address}),(0,i.jsxs)("div",{className:"flex flex-col space-x-8 space-y-4 px-4 py-4 bg-red-50",children:[(0,i.jsxs)("div",{className:"flex flex-row space-x-8 justify-between px-4 py-4 bg-red-50",children:[(0,i.jsxs)("div",{className:"flex flex-row space-x-8",children:[(0,i.jsx)(w.Mp,{className:"max-md:w-10 max-md:h-10 md:w-12 md:h-12",onClick:()=>j(!0)}),(0,i.jsx)(v(),{className:"max-md:w-10 max-md:h-10 md:w-12 md:h-12 rounded-md",onClick:D})]}),(0,i.jsx)("div",{className:"text-lg font-bold text-pink-650",children:(0,i.jsx)(N(),{href:"/listings/view3d/".concat(null==y?void 0:null===(s=y.listing)||void 0===s?void 0:s.matterportId),className:"",children:"View in 3D"})})]}),(0,i.jsx)("div",{className:"text-2xl font-bold",children:null==y?void 0:null===(e=y.listing)||void 0===e?void 0:e.name}),(0,i.jsx)("div",{className:"text-xl break-words",children:null==y?void 0:null===(l=y.listing)||void 0===l?void 0:l.description}),(0,i.jsx)("div",{className:"text-lg font-bold text-pink-650",children:(null==y?void 0:y.agent)&&(0,i.jsx)(N(),{href:"/agents/".concat(null==y?void 0:y.agent),className:"",children:"Agent Details"})}),(0,i.jsxs)("div",{className:"text-xl",children:["\uD83D\uDEC1 ",null==y?void 0:null===(t=y.listing)||void 0===t?void 0:t.bathrooms]}),(0,i.jsxs)("div",{className:"text-xl",children:["\uD83D\uDECF️ ",null==y?void 0:null===(x=y.listing)||void 0===x?void 0:x.bedrooms]}),(0,i.jsxs)("div",{className:"text-4xl font-bold text-right",children:["RM",null==y?void 0:null===(u=y.listing)||void 0===u?void 0:u.price]})]})]}),p&&(0,i.jsxs)("div",{className:"w-full h-full fixed backdrop-blur-sm space-x-4 space-y-4 shadow-lg z-50 top-0 flex flex-col items-center justify-center",children:[(0,i.jsxs)("div",{className:"bg-white shadow-lg rounded-md px-12 py-12 flex flex-row space-x-4",children:[(0,i.jsx)(o.Z,{url:"Check out the property at ".concat(null==y?void 0:y.listing.address," via this link: ").concat("https://proptory.com/listings","/").concat(null==y?void 0:y.listing.id),children:(0,i.jsx)(v(),{className:"rounded-md max-md:w-10 max-md:h-10"})}),(0,i.jsx)(h(),{url:"".concat("https://proptory.com/listings","/").concat(null==y?void 0:y.listing.id),children:(0,i.jsx)(m(),{className:"rounded-md max-md:w-10 max-md:h-10"})}),(0,i.jsx)(c.Z,{url:"Check out the property at ".concat(null==y?void 0:y.listing.address," via this link: ").concat("https://proptory.com/listings","/").concat(null==y?void 0:y.listing.id),children:(0,i.jsx)(r.Z,{className:"rounded-md max-md:w-10 max-md:h-10"})}),(0,i.jsx)(g.Fqs,{className:"rounded-md max-md:w-10 max-md:h-10 md:w-16 md:h-16",onClick:E})]}),(0,i.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,i.jsx)(f.LHV,{className:"rounded-md max-md:w-10 max-md:h-10 md:w-16 md:h-16",onClick:()=>j(!1)})})]})]})}}},function(s){s.O(0,[228,13,617,342,774,888,179],function(){return s(s.s=9994)}),_N_E=s.O()}]);