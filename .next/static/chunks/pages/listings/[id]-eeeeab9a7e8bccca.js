(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[748],{9994:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/listings/[id]",function(){return s(1263)}])},1263:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var l=s(5893),d=s(9008),a=s.n(d),n=s(1163),i=s(7294),c=s(2834),o=s(8168),r=s(7782),m=s(6355),x=s.n(m),h=s(5554),u=s.n(h),p=s(6148),f=s.n(p),w=s(5434),v=s(8193),j=s(3750),g=s(1664),N=s.n(g);function y(){let[e,t]=(0,i.useState)(!1),[s,d]=(0,i.useState)(null),m=(0,n.useRouter)(),{id:h}=m.query,p="application/json";(0,i.useEffect)(()=>{let e=async()=>{if(m.isReady)try{let e=await fetch("/api/listings/".concat(h),{method:"GET",headers:{Accept:p,"Content-Type":p}}),t=await e.json();if(!e.ok)throw Error(t.error);d(t.data)}catch(e){m.push("/")}};e()},[m.isReady]);let g=()=>{navigator.clipboard.writeText("Check out the property at ".concat(null==s?void 0:s.address," via this link: ").concat("http://proptory.com/listings","/").concat(h))},y=()=>{let e=null==s?void 0:s.agent.phone.replace(/[^\w\s]/gi,"").replace(/ /g,""),t="https://web.whatsapp.com/send?phone=".concat(e);t+="&text=".concat(encodeURI("Hi. I am interested to discuss about your listing at ".concat(null==s?void 0:s.address)),"&app_absent=0"),window.open(t)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a(),{children:(0,l.jsx)("title",{children:"Proptory listing"})}),(0,l.jsxs)("div",{className:"w-full px-4 pt-4 grid md:grid-cols-2 max-md:grid-cols-1",children:[(0,l.jsx)("div",{className:"bg-red-200 h-96 text-2xl text-slate-500",children:null==s?void 0:s.address}),(0,l.jsxs)("div",{className:"flex flex-col space-x-8 space-y-4 px-4 py-4 bg-red-50",children:[(0,l.jsxs)("div",{className:"flex flex-row space-x-8 justify-between px-4 py-4 bg-red-50",children:[(0,l.jsxs)("div",{className:"flex flex-row space-x-8",children:[(0,l.jsx)(j.Mp,{className:"max-md:w-10 max-md:h-10 md:w-12 md:h-12",onClick:()=>t(!0)}),(0,l.jsx)(f(),{className:"max-md:w-10 max-md:h-10 md:w-12 md:h-12 rounded-md",onClick:y})]}),(0,l.jsx)("div",{className:"text-lg font-bold text-pink-650",children:(0,l.jsx)(N(),{href:"/listings/view3d/".concat(null==s?void 0:s.matterportId),className:"",children:"View in 3D"})})]}),(0,l.jsx)("div",{className:"text-2xl font-bold",children:null==s?void 0:s.name}),(0,l.jsx)("div",{className:"text-xl break-words",children:null==s?void 0:s.description}),(0,l.jsx)("div",{className:"text-lg font-bold text-pink-650",children:(0,l.jsx)(N(),{href:"/agents/".concat(null==s?void 0:s.agent.id),className:"",children:"Agent Details"})}),(0,l.jsxs)("div",{className:"text-xl",children:["\uD83D\uDEC1 ",null==s?void 0:s.bathrooms]}),(0,l.jsxs)("div",{className:"text-xl",children:["\uD83D\uDECF️ ",null==s?void 0:s.bedrooms]}),(0,l.jsxs)("div",{className:"text-4xl font-bold text-right",children:["RM",null==s?void 0:s.price]})]})]}),e&&(0,l.jsxs)("div",{className:"w-full h-full fixed backdrop-blur-sm space-x-4 space-y-4 shadow-lg z-50 top-0 flex flex-col items-center justify-center",children:[(0,l.jsxs)("div",{className:"bg-white shadow-lg rounded-md px-12 py-12 flex flex-row space-x-4",children:[(0,l.jsx)(c.Z,{url:"Check out the property at ".concat(null==s?void 0:s.address," via this link: ").concat("http://proptory.com/listings","/").concat(null==s?void 0:s.matterportId),children:(0,l.jsx)(f(),{className:"rounded-md max-md:w-10 max-md:h-10"})}),(0,l.jsx)(u(),{url:"".concat("http://proptory.com/listings","/").concat(null==s?void 0:s.matterportId),children:(0,l.jsx)(x(),{className:"rounded-md max-md:w-10 max-md:h-10"})}),(0,l.jsx)(o.Z,{url:"Check out the property at ".concat(null==s?void 0:s.address," via this link: ").concat("http://proptory.com/listings","/").concat(null==s?void 0:s.matterportId),children:(0,l.jsx)(r.Z,{className:"rounded-md max-md:w-10 max-md:h-10"})}),(0,l.jsx)(w.Fqs,{className:"rounded-md max-md:w-10 max-md:h-10 md:w-16 md:h-16",onClick:g})]}),(0,l.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,l.jsx)(v.LHV,{className:"rounded-md max-md:w-10 max-md:h-10 md:w-16 md:h-16",onClick:()=>t(!1)})})]})]})}}},function(e){e.O(0,[228,13,617,342,774,888,179],function(){return e(e.s=9994)}),_N_E=e.O()}]);