(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{9145:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/listings",function(){return s(9398)}])},1523:function(e,n,s){"use strict";var i=s(5893),t=s(1163);let l=e=>{let{data:{id:n,name:s,address:l,price:c,description:d,bathrooms:a,bedrooms:r}}=e,o=(0,t.useRouter)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"h-96 my-12 mx-12 shadow-lg rounded-md grid grid-rows-2",onClick:()=>o.push("/listings/".concat(n)),children:[(0,i.jsx)("div",{className:"w-full h-full relative rounded-t-md bg-pink-200",children:(0,i.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:l})}),(0,i.jsxs)("div",{className:"w-full h-full flex flex-col mx-4 my-4 space-y-4 text-lg",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:["RM",c]}),(0,i.jsx)("div",{children:s}),(0,i.jsx)("div",{className:"w-[250px]",children:(0,i.jsx)("div",{className:"truncate",children:d})}),(0,i.jsxs)("div",{className:"flex flex-row space-x-10",children:[(0,i.jsxs)("div",{children:["\uD83D\uDEC1 ",a]}),(0,i.jsxs)("div",{children:["\uD83D\uDECF️ ",r]})]})]})]})})};n.Z=l},9398:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return x}});var i=s(5893),t=s(7294),l=s(9734),c=s(1163),d=s(4205),a=s(1523),r=s(8794),o=s(9008),u=s.n(o);function x(){(0,c.useRouter)();let[{searchVal:e},n]=(0,r.K1)(),[s,o]=(0,t.useState)(1),[x,f]=(0,t.useState)(0),{data:h,error:m}=(0,l.ZP)("/api/listings?page=".concat(s,"&search=").concat(0===e.length||e.length>5?e:""),d._);return((0,t.useEffect)(()=>{h&&f(h.pagination.pageCount)},[h]),m)?(0,i.jsx)("div",{children:JSON.stringify(m)}):h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u(),{children:[(0,i.jsx)("title",{children:"Listings"}),(0,i.jsx)("meta",{name:"description",content:"Listings"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)("div",{className:"md:text-3xl max-md:xl mx-12 py-4",children:e?"Search Results on '".concat(e,"'"):"".concat(h.pagination.count," Total Listings")}),(0,i.jsx)("div",{className:"w-full grid lg:grid-cols-3 md:grid-cols-2 max-md:grid-cols-1",children:h.items.map(e=>(0,i.jsx)(a.Z,{data:e},e.id))}),(0,i.jsxs)("footer",{className:"w-full flex flex-row items-center justify-center space-x-4 py-4 px-4 max-md:text-md md:text-xl",children:[(0,i.jsx)("button",{disabled:1===s,onClick:function(){o(e=>1===e?e:e-1)},children:"Previous"}),(0,i.jsxs)("div",{children:["Page ",s," of ",x]}),(0,i.jsx)("button",{disabled:s===x,onClick:function(){o(e=>e===x?e:e+1)},children:"Next"})]})]}):(0,i.jsx)("p",{children:"Loading..."})}},4205:function(e,n,s){"use strict";async function i(e,n){let s=await fetch(e,n);return s.json()}s.d(n,{_:function(){return i}})},9008:function(e,n,s){e.exports=s(3121)}},function(e){e.O(0,[734,774,888,179],function(){return e(e.s=9145)}),_N_E=e.O()}]);